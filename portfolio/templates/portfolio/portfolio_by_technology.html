{% extends 'base.html' %}
{% load static %}

{% block title %}{{ technology.name }} Projects by Technology â€“ Portfolio{% endblock %}

{% block content %}
<section class="px-6 md:px-16 py-12 bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)]">
  <div class="max-w-7xl mx-auto">

    <!-- Section Header -->
    <div class="space-y-4 mt-12">
      <p class="text-sm pl-6  uppercase relative before:content-[''] before:h-1 before:w-4 before:bg-[color:var(--color-brand-accent)] before:absolute before:top-2/4 before:-translate-y-2/4 before:left-0 lg:text-lg text-[color:var(--color-font-main)]">
        Projects Using
      </p>
      <div class="flex items-center gap-3">
        <span class="inline-flex items-center text-lg text-[color:var(--color-brand-accent)]">
          <i class="{{ technology.icon }} mr-3"></i>
          <h2 class="leading-normal text-[color:var(--color-brand-secondary)]">{{ technology.name }}</h2>
        </span>
      </div>
    </div>

    <!-- Back to Projects -->
    
    <div class=" mb-12">
      <a href="{% url 'portfolio:list' %}"
        class="inline-flex items-center mt-12 gap-2 px-6 py-3 border border-[color:var(--color-brand-secondary)] text-[color:var(--color-brand-secondary)] rounded-md font-medium text-sm hover:bg-[color:var(--color-brand-accent)] hover:text-[color:var(--color-font-main)] transition-colors">
        <i class="fas fa-arrow-left"></i>
        <span>Back to Portfolio</span>
      </a>
    </div>
    <!-- Portfolio Grid -->
    <div class="grid gap-8 mb-16 md:grid-cols-2 lg:grid-cols-3">
      {% for portfolio in portfolios %}
        <article class="flex flex-col rounded-lg overflow-hidden border border-[color:var(--color-brand-accent)]  hover:shadow-lg transition-shadow">
          {% if portfolio.display_image %}
            <div class="h-48 w-full overflow-hidden">
              <img src="{{ portfolio.display_image }}"
                  alt="{{ portfolio.title }}"
                  class="w-full h-full object-cover transition-transform duration-300 hover:scale-105" />
            </div>
          {% endif %}

          <div class="p-8 flex-grow flex flex-col space-y-4">
            <h3 class="text-xl font-bold text-[color:var(--color-font-main)]">
              {{ portfolio.title }}
            </h3>
            <p class="text-[color:var(--color-font-main)]">
              {{ portfolio.short_description|safe }}
            </p>

            <div class="pt-6 mt-auto border-t border-[color:var(--color-brand-accent)]">
              <a href="{% url 'portfolio:detail' portfolio.slug %}"
                class="btn-accent inline-flex items-center gap-2 w-full justify-center">
                View Details
                <i class="fas fa-arrow-right"></i>
              </a>
            </div>
          </div>
        </article>
      {% empty %}
        <div class="col-span-full text-center p-12 bg-[color:var(--color-brand-light)] rounded-lg border border-[color:var(--color-brand-accent)]">
          <p class="text-[color:var(--color-brand-accent)] mb-8">
            No projects found using {{ technology.name }}.
          </p>
          <a href="{% url 'portfolio:list' %}"
            class="btn-accent inline-flex items-center gap-2">
            <i class="fas fa-arrow-left"></i>
            <span>Back to All Projects</span>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}
